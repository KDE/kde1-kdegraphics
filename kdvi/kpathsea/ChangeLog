Tue Jul 30 22:58:51 1996  Thomas Esser <te@informatik.uni-hannover.de>
      * removed MakeTeXPK.in and adjusted Makefile.in: MakeTeXPK
        in installed from bin-extra

Fri Jul 26 02:05:20 1996  Ulrik Vieth  <vieth@thphy.uni-duesseldorf.de>

      * tex-file.c: Added FMT_INFO.type for kpse_mpsupport_format
      and kpse_troff_font_format to avoid seg faults when debugging.
      
      * texmf.cnf.in: Fixes default for TRFONTS=/usr/lib/font/devpost.

Wed Jul 24 02:28:32 1996  Ulrik Vieth  <vieth@thphy.uni-duesseldorf.de>

      * General: Update of web2c-mp distribution for teTeX-0.3.4,
      including minor fixes already included in earlier texk-pretests.

      * texmf.cnf.in: Added more search paths for MetaPost utilities:
      MPSUPPORT, TRFONTS used in mpware/dmp.c.

      * tex-file.c, tex-file.h: Added more variables and defaults
      for MetaPost: kpse_mpsupport_format, kpse_troff_font_format.

Thu Apr 13 11:22:03 1995  Ulrik Vieth  <vieth@thphy.uni-duesseldorf.de>

      * texmf.cnf.in: Added new search paths for MetaPost:
      MEMDIR, MPPOOLDIR, MPINPUTS, MPMEMS, MPPOOL.

      * tex-file.c, tex-file.h: Added variables and defaults
      for MetaPost search paths.

Sun Jan  8 12:14:47 1995  Karl Berry  <karl@cs.umb.edu>

        * Version 2.6.

Wed Jan  4 14:44:34 1995  Karl Berry  <karl@cs.umb.edu>

        * Makefile.in (mostlyclean): Remove kpsewhich.

Tue Jan  3 11:48:40 1995  Karl Berry  <karl@cs.umb.edu>

        * kpsewhich.c (long_options): Can't make this automatic.

        * basename.c: Include <kpathsea/config.h> before testing
        HAVE_BASENAME.

        * Makefile.in (kpsewhich): Make the library before kpsewhich.o.
        (paths.h): No need for the $(kpathsea_dir)/ any more, now make
        depend gets rid of it.

        * rm-suffix.c: Doc fix.
        
        * kpsewhich.c: Extract the dpi from the filename if possible.

Mon Jan  2 09:45:17 1995  Karl Berry  <karl@cs.umb.edu>

        * Makefile.in (kpsexpand): Replace with kpsewhich.

        * proginit.h: Doc fix.

        * texmf.cnf.in (TEXMFCNF): Rename from TEXMF_CNF.
        * tex-file.c (kpse_init_format): Likewise.

Sun Jan  1 14:04:41 1995  Karl Berry  <karl@cs.umb.edu>

        * Makefile.in (MakeTeXPK): Substitute for web2cdir.
        * MakeTeXPK.in: Use it for MakeTeXPK.site.
        (install-data): Install texmf.cnf in web2cdir instead of texmf.
        * texmf.cnf.in (TEXMF_CNF): Default path includes web2cdir.

Sat Dec 31 14:26:48 1994  Karl Berry  <karl@cs.umb.edu>

        * Makefile.in (objects): No more @LIBOBJS@.
        * common.ac: Use AC_CHECK_FUNCS for basename, not REPLACE_FUNCS.
        The latter doesn't define HAVE_BASENAME.
        * basename.c [!HAVE_BASENAME]: Conditionalize whole file.

        * Makefile.in (uninstall-exec): Remove kpsexpand.
        (MakeTeXPK): New target.
        (install-exec): Install MTPK.
        (install-library): New target to replace install-headers.
        (install): Don't install-library by default.

Fri Dec 30 15:53:04 1994  Karl Berry  <karl@cs.umb.edu>

        * Makefile.in (objects): Don't put @LIBOBJS@ on a line by itself.
        From Joachim.

Mon Dec 26 07:55:40 1994  Karl Berry  <karl@cs.umb.edu>

        * common.ac (AC_FUNC_CLOSEDIR_VOID): Call this. Reported by
        Timothy Murphy <tim@maths.tcd.ie>.

        * tex-file.c (init_path): If a variable is set to an empty value,
        ignore it.  Suggested by Stephen Gildea <gildea@x.org>.

        * proginit.c: If passed a NULL mode, put / in the environment here.
        * tex-make.c (kpse_make_tex): Don't do STREQ on NULL (though it
        should never be NULL in the first place), and properly restore
        MAKETEX_MODE if it was /.

Tue Dec 20 09:57:21 1994  Karl Berry  <karl@cs.umb.edu>

        * install.texi: Mention how to do optimization.

Mon Dec 19 13:18:04 1994  Karl Berry  <karl@cs.umb.edu>

        * tex-file.h: Doc fix.

Wed Dec 14 14:46:47 1994  Karl Berry  <karl@cs.umb.edu>

        * Version 2.5.

        * pathsearch.c (log_search): Don't prepend the `kdebug:' to the
        search result.

Sat Dec 10 16:49:12 1994  Karl Berry  <karl@cs.umb.edu>

        * tex-make.c (set_maketex_mag): Make case of magstep -1 work
        properly.  From a bug report by
        heiko@lotte.sax.de (Heiko Schlittermann).

Mon Dec  5 11:58:08 1994  Karl Berry  <karl@cs.umb.edu>

        * Makefile.in (objects): Add @LIBOBJS@.
        * common.ac: Check for basename.

        * db.c (db_insert): Include trailing / in directory part, and pass
        the key and the value in the right order.  From
        te@informatik.uni-hannover.de.

Sun Dec  4 14:26:44 1994  Karl Berry  <karl@cs.umb.edu>

        * kpsexpand.c: Add extra filename argument. From
        ware@cis.ohio-state.edu.

        * common.ac: Use AC_TRY_RUN to test for SMART_PUTENV, not
        AC_TRY_LINK. From parkes@sierravista.com.

        * acconfig.h: Use #undef instead of commented-out `/* #define'.

Sun Nov 27 13:47:06 1994  Karl Berry  <karl@cs.umb.edu>

        * db.c (db_insert): Don't try to insert into an empty hash table.
        From dc@cobi.gsfc.nasa.gov (and others).

        * pathsearch.c (log_search): Call DEBUGF, not printf, for the
        filenames.  From John I.

        * tex-make.c (kpse_make_tex): If MAKETEX_MODE is /, unset it and
        reset it around the command expansion.
        (maketex): Back to calling db_insert.

Sat Nov 26 11:44:09 1994  Karl Berry  <karl@cs.umb.edu>

        * cnf.c (read_file): If expansion of $TEXMF (KPSE_DB_DIR) fails,
        expand DEFAULT_TEXMF.  From te@informatik.uni-hannover.de.

Thu Nov 24 13:41:15 1994  Karl Berry  <karl@cs.umb.edu>

        * tex-file.c (KPSE_BST_ENVS): Do not look at TEXINPUTS.

        * tex-file.h: Doc fix.

Tue Nov 15 14:06:56 1994  Karl Berry  <karl@cs.umb.edu>

        * progname.c (kpse_set_progname): Use basename.

Fri Nov 11 19:12:23 1994  Karl Berry  <karl@cs.umb.edu>

        * acconfig.h (HAVE_SIGIO): Add this.

Tue Nov  8 19:14:12 1994  Karl Berry  <karl@cs.umb.edu>

        * tex-make.c (kpse_make_tex): Change argument name from
        `basename', since now we have a fn by that name.
        * magstep.c (kpse_magstep_fix): Initialize mdpi.
        * basename.c (basename): Initalize base.

Mon Nov  7 15:46:21 1994  Karl Berry  <karl@cs.umb.edu>

        * common.ac: Run autoupdate.
        * c-dir.h: Change #if names and NLENGTH to new style.

Fri Oct 28 21:28:02 1994  K. Berry  (karl@terminus.cs.umb.edu)

        * Version 2.4.

        * tex-make.c (maketex): Don't call db_insert, that routine is
        buggy. I'll fix it later. In the meantime, trying to get a
        semi-stable release.

Tue Oct 25 16:43:31 1994  Karl Berry  <karl@cs.umb.edu>

        * Version 2.3.

        * progname.c (kpse_set_progname): Initialize kpathsea_debug from
        the KPATHSEA_DEBUG envvar.  From neal@ctd.comsat.com.

Mon Oct 24 13:41:24 1994  Karl Berry  <karl@cs.umb.edu>

        * db.c (db_insert): New function.
        * db.h: Declare it.
        * tex-make.c (maketex): db_insert the result if we succeeded.

        * basename.c: New file to define basename.
        * lib.h (basename): Declare it.
        * Makefile.in (objects): Include basename.o.

        * tex-file.h (kpse_file_format_type): Add missing enum values for
        base/fmt/pool files.
        * tex-file.c (kpse_init_format): Add cases for these.
        From te@informatik.uni-hannover.de.

        * lib.h (WARNING, FATAL): Use fputs instead of fprintf.
        * Many files: Use DEBUGF instead of printf ("kdebug".
        * debug.h (DEBUGF) [DEBUG]: Define this.

        * xputenv.c (xputenv): Initialize that static saved_env_items to
        null, just for documentation's sake.

Tue Oct 18 13:19:06 1994  Karl Berry  <karl@cs.umb.edu>

        * tex-file.c (KPSE_*_ENVS): Move environment variable list here.
        * tex-file.h: Move them from here.

        * tex-glyph.h: Doc fix.

        * tex-file.c (kpse_find_file): Correct off-by-one in suffix
        comparison. From toy@rtp.ericsson.se.

Mon Oct 17 14:01:02 1994  Karl Berry  <karl@cs.umb.edu>

        * elt-dirs.c (do_subdir): Find a top-level subdir if it matches
        the POST.

        * db.c (kpse_db_search): Allow for the passed name including a
        directory part, as in dpi600/cmr10.pk.
        * tex-glyph.c (try_format): First search all specs with
        must_exist=false.

        * kpsexpand.c: New file, from te@informatik.uni-hannover.de.
        * Makefile.in (kpsexpand): New target (a program).
        (install-exec): Depend on, and install, kpsexpand.
        
        * common.ac: Doc fix.

        * cnf.c (do_line): Don't quit just because the variable is in the
        environment.  From te@informatik.uni-hannover.de.

        * tex-glyph.c (PXL_BITMAP_SPEC): Remove this, we're not going to
        support pxl1500.

Sun Oct 16 20:46:26 1994  Karl Berry  <karl@cs.umb.edu>

        * kpathsea.texi: Make it clear that names of debugging bits can
        never be used.

Fri Oct 14 10:31:35 1994  Karl Berry  <karl@cs.umb.edu>

        * Version 2.2.

        * hash.c (hash_lookup) [DEBUG]: Cast to long, not int.

Thu Oct 13 15:39:34 1994  Karl Berry  <karl@owl>

        * db.c (db_build): Warn if ls-R contains nothing useful.

        * debug.c (fopen, fclose) [DEBUG]: fflush stdout.
        * dir.c (dir_links),
        * hash.c (hash_lookup),
        * tex-file.c (kpse_init_format),
        * elt-dirs.c (kpse_element_dirs): Likewise.

Thu Oct 13 09:02:56 1994  Karl Berry  <karl@cs.umb.edu>

        * hash.c (kpse_debug_hash_lookup_int) [DEBUG]: New global.
        (hash_lookup): Use it.
        * hash.h [DEBUG]: Declare it.
        * dir.c (dir_links) [DEBUG]: Set it and reset it.

        * tex-glyph.c (PXL_BITMAP_SPEC): Add this (pxlNNN/cmr10.pk) for
        the Bitstream utilities. From abrahams@acm.org.
        (try_format): Search for this.

Tue Oct 11 15:15:49 1994  Karl Berry  <karl@cs.umb.edu>

        * db.c (db_build): Use kpse_db_dir instead of KPSE_DB_DIR.  This
        avoids one variable expansion, and te@informatik.uni-hannover.de
        says otherwise TeX sometimes can't find ls-R.

Sun Oct  9 17:18:23 1994  Karl Berry  <karl@cs.umb.edu>

        * kdefault.c: Rename from default.c.
        * Makefile.in (objects): Likewise.

Fri Oct  7 12:58:33 1994  Karl Berry  <karl@cs.umb.edu>

        * tex-file.c (kpse_init_format): Call INIT_MT for the any_glyph
        case. From carson@lehman.com.

Sun Oct  2 14:11:20 1994  Karl Berry  <karl@cs.umb.edu>

        * magstep.c: Doc fix.

Sun Sep 25 17:11:40 1994  Karl Berry  <karl@cs.umb.edu>

        * Makefile.in: Include library.make.

Thu Sep 22 15:34:40 1994  Karl Berry  <karl@cs.umb.edu>

        * tex-file.h (kpse_file_format_type): Don't make equal to the last
        element index, make one more.  From Eric Auborg.

Thu Sep 15 19:24:30 1994  Karl Berry  (karl@cs.umb.edu)

        * Makefile.in (distdir): Include install.texi in the distribution.

Mon Sep 12 11:05:18 1994  Karl Berry  (karl@cs.umb.edu)

        * Version 2.1.

Sun Sep 11 15:03:18 1994  Karl Berry  (karl@cs.umb.edu)

        * Makefile.in (install-data): Install texmf.cnf if it didn't exist.

Sat Sep 10 13:28:29 1994  Karl Berry  (karl@cs.umb.edu)

	* Makefile.in (texmf.sed, paths.h): Use tr 012 instead of \n.
	From John Interrante.
	
        * Makefile.in (distdir): Include the .aux and .cps files in the
        distribution.  Don't include paths.h (from John Interrante).
        
        * kpathsea.texi: Fix overfull boxes and other TeX errors.

Wed Sep  7 16:28:37 1994  Karl Berry  (karl@cs.umb.edu)

        * Version 2.0.

Tue Sep  6 10:33:18 1994  Karl Berry  (karl@cs.umb.edu)

        * dir.c (dir_links): Use %ld for ret, since it's now a long.

Sat Sep  3 09:01:25 1994  Karl Berry  (karl@cs.umb.edu)

        * dir.c (dir_links): Use long instead of int for the cast and the
        variable, to avoid warnings on the Alpha.

        * c-std.h (SYSV, X_NOT_STDC_ENV): Don't define these here.
        * c-memstr.h (SYSV): Define this.
        (_XFUNCS_H_): And this.

        * Makefile.in (distclean): Add texmf.cnf and texmf.sed.

Thu Sep  1 14:22:48 1994  Karl Berry  (karl@cs.umb.edu)

        * xputenv.c (putenv): Declare this to avoid a warning.
        * xstat.c (lstat): And this.

        * common.ac (SMART_PUTENV): Use program to test for this.  From
        mike@cs.utah.edu.

        * tex-glyph.c (try_fallback_resolutions): Quit early if there's no
        resolutions in the list.  From sanjoy@dope.caltech.edu.

Tue Aug 30 14:26:48 1994  Karl Berry  (karl@cs.umb.edu)

        * acconfig.h (FOIL_X_WCHAR_T): New definition.

        * c-std.h (hypot) [!hypot]: Conditionalize declaration.

Fri Aug 26 09:00:24 1994  Karl Berry  (karl@cs.umb.edu)

        * Makefile.in (install-data): Install headers into
        $(includedir)/kpathsea, not just $(includedir).  From john@wpi.edu.

        * pathsearch.c (search): Show results of the search as well as the
        start of it.

Thu Aug 25 13:40:29 1994  Karl Berry  (karl@cs.umb.edu)

        * proginit.c (kpse_init_prog): Newline at end of fputs.

        * pathsearch.c (search): Add debug statement.
        * debug.h (KPSE_DEBUG_SEARCH): New bit.

        * tex-file.h (kpse_format_info_type): Rename `font_override_p' from
        `font_p'. Also `program_enabled' => `program_enabled_p'.
        Also new member `suffix_search_only'.
        * tex-file.c (kpse_find_file): Avoid searching for foo.tex.tex, etc.

Tue Aug 16 09:29:59 1994  Karl Berry  (karl@cs.umb.edu)

        * tex-make.c (maketex): Announce that we are running the script
        before running it.

Mon Aug 15 11:18:19 1994  Karl Berry  (karl@cs.umb.edu)

        * texmf.cnf.in (PKFONTS.xdvi): Write program-specific definition
        to include gsftopk and ps2pk ``modes''.

Sat Aug 13 16:34:43 1994  Karl Berry  (karl@cs.umb.edu)

        * Makefile.in (lib): Rename to program to simplify rules.

        * magstep.h: Doc fix.

        * common.ac (AC_HAVE_FUNCS): Test for bcopy.

Tue Aug  9 14:18:56 1994  Karl Berry  (karl@cs.umb.edu)

        * tex-make.c (misstex): Prepend kpathsea: to the missfont.log
        message.

Mon Aug  8 17:53:58 1994  Karl Berry  (karl@cs.umb.edu)

        * tex-make.c (set_maketex_mag): Rewrite to call kpse_magstep_fix.
        * magstep.[ch]: New files.

Fri Aug  5 14:07:51 1994  Karl Berry  (karl@cs.umb.edu)

        * db.c (match): Allow a trailing component in the filename.

Tue Aug  2 08:55:21 1994  Karl Berry  (karl@cs.umb.edu)

        * Change `debug:' to `kdebug:'.
        * hash.c (hash_lookup): Print results of lookup if DEBUG_HASH.
        * debug.h (KPSE_DEBUG_HASH): New bit, replacing DB_BUILD.
        * db.c (db_build): Don't print the built hash table.

        * db.c (match): Implement this. Petr Sojka and Zdenek Salvet(?)
        supplied code for this, but I wound up writing my own.
        * variable.c (expand): Do variable expansion on the value.

        * texmf.cnf.in (TEXINPUTS): Put this after the .prog-specific entries.

        * tex-file.c (kpse_pict_format): Remember to break after setting
        the type.
        (EXPAND_DEFAULT, init_path): Keep raw_path as pre-default expansion.

Sun Jul 31 14:18:09 1994  Karl Berry  (karl@cs.umb.edu)

        * debug.c: Don't include debug.h, it's already in debug.h.

        * Makefile.in (db.o,pathsearch.o): Don't need these special cases
        since tossed db_dir from paths.make.
        * db.h (DB_DIR): Change default to $TEXMF, rename to KPSE_DB_DIR.
        (kpse_db_dir): New global variable (sigh).
        * db.c (kpse_db_dir): Define.
        * cnf.c: Include db.h for KPSE_DB_DIR.
        (read_files): Set kpse_db_dir after all have been read.
        * pathsearch.c (elt_in_db): Check if kpse_db_dir is null.
        (path_search): Do not initialize db_dir.

Sat Jul 30 06:12:12 1994  Karl Berry  (karl@cs.umb.edu)

        * c-dir.h [_POSIX_VERSION]: Remove this condition; just use DIRENT.

Fri Jul 29 11:36:25 1994  Karl Berry  (karl@cs.umb.edu)

        * tex-file.c (init_path): Look up cnf file value if no suffix.

        * xstat.h (SAME_FILE_P): Move here.
        * c-stat.h (SAME_FILE_P): From here.
        * file-p.c: Change include.
        * lib.h (dir_p, dir_links): Declare here.
        * dir.h: Split into xopendir.h and c-dir.h; Sun 3 include files
        get confused otherwise, according to john@minster.york.ac.uk.
	* xopendir.c: Include xopendir.h.
	* elt-dirs.c, dir.c: Change includes.
	
Sun Jul 17 10:21:16 1994  Karl Berry  (karl@cs.umb.edu)

        * hash.c (hash_insert): Put new elements in at the end of the
        list, instead of the beginning.
        * hash.h: Document this.

        * texmf.cnf.in (TEXMFROOT): Change to TEXMF.
        * kpathsea.texi: Likewise.

        * cnf.c (do_line): assert program_invocation_short_name.
        * progname.c: Doc fix.

        * absolute.[ch] (kpse_absolute_p): Take additional arg relative_ok.
        * pathsearch.c (log_search): Call it (with false).
        * tex-glyph.c: Change call.

        * pathsearch.c (path_search): Initialize db_dir here.
        (elt_in_db): Not here.

Fri Jul 15 11:44:15 1994  Karl Berry  (karl@cs.umb.edu)

        * tex-file.h: Doc fix.

        * pathsearch.c (log_search): Pass in the whole str_list; anything
        else is unreliable.

        * proginit.[ch] (kpse_init_prog): Don't pass in argv0; we need it
        earlier.

Tue Jul 12 11:56:54 1994  Karl Berry  (karl@cs.umb.edu)

        * tex-file.c (init_path): Use the first envvar that's *set*, not
        the first in the list.

        * tex-file.h (kpse_format_info_type): New member `type'.
        * tex-file.c (kpse_init_format): Initialize it.

        * pathsearch.c (log_search): New fn.
        (search): Call it.

Fri Jul  1 11:54:29 1994  Karl Berry  (karl@cs.umb.edu)

        * tex-file.c: Doc fix.

Mon Jun 27 10:18:59 1994  Karl Berry  (karl@cs.umb.edu)

        * db.c (db_build): Call kpse_var_expand on the db filename.
        * pathsearch.c (elt_in_db): Likewise.

        * tex-glyph.h (kpse_find_gf): By analogy with kpse_find_pk.

Sat Jun 25 16:09:05 1994  Karl Berry  (karl@cs.umb.edu)

        * tex-glyph.c (try_format): Try both Unix and DOS bitmap specs,
        instead of just one or the other.
        (bitmap_name): No longer needed.

Fri Jun 24 11:52:32 1994  Karl Berry  (karl@cs.umb.edu)

        * tex-file.c (kpse_find_file): Don't try the suffix if it doesn't
        exist.

        * tex-file.h (kpse_find_{dvips_header,pict}): New definition.

Thu Jun 23 16:57:58 1994  Karl Berry  (karl@cs.umb.edu)

        * tex-file.h (kpse_{pict,dvips_header}_format): New consts.
        (KPSE_{PICT,DVIPS_HEADER}_ENVS): Likewise.

Tue Jun 21 11:53:09 1994  Karl Berry  (karl@cs.umb.edu)

        * tex-file.c (kpse_find_file): Try the name as given if the name
        concatenated with the suffix fails, for the sake of, e.g., EPS files.

        * tex-file.h (kpse_find_tex): New definition.

        * absolute.[ch]: Make arg const.

        * tex-glyph.[ch]: (kpse_bitmap_tolerance): Move here from tex-make.

        * c-proto.h (P6[CH]): New definitions.

        * Makefile.in (objects): Add proginit.o.
        * proginit.[ch]: New files.

Mon Jun 20 14:55:57 1994  Karl Berry  (karl@cs.umb.edu)

        * tex-file.c (kpse_init_format): Make override path not apply to
        TFM and VF files.

        * tex-glyph.c (kpse_find_glyph_format): Rename to kpse_find_glyph,
        and don't call MakeTeXPK if the filename is absolute.
        * tex-glyph.h: Likewise.

Sun Jun 19 11:00:50 1994  Karl Berry  (karl@cs.umb.edu)

        * common.ac (HAVE_PROGRAM_INVOCATION_NAME): Test for this.
        * acconfig.h: #undef this by default.
        * progname.[ch]: New files.
        * Makefile.in (objects): Add progname.o.
        * cnf.c (do_line): Check for .<progname> qualification.

Sat Jun 18 16:55:36 1994  Karl Berry  (karl@cs.umb.edu)

        * elt-dirs.c (kpse_element_dirs): Avoid stats in leaf directories
        found via a non-null post.

Fri Jun 17 14:25:08 1994  Karl Berry  (karl@cs.umb.edu)

        * elt-dirs.c (kpse_element_dirs) [DEBUG]: Print the directory
        expansion of the path element.

        * str-llist.h: Doc fix.

        * elt-dirs.c (do_subdir): Ignore anything beginning with ., not
        just `.' and `..'.

Tue Jun 14 11:53:49 1994  Karl Berry  (karl@cs.umb.edu)

        * dir.c (dir_links): Cache the lookups.

        * elt-dirs.c (kpse_element_dirs): Don't expand the argument.
        * expand.h (kpse_path_expand): New routine.
        * expand.c: Define it.
        * pathsearch.h: Doc fix.

        * db.c, tex-file.c [DEBUG]: Prefix output lines with `debug:'.

        * tex-file.h (kpse_format_info_type): Add cnf_path to the struct.
        * tex-file.c (kpse_init_path): Print the cnf_path.
        (init_path): Set it, instead of a local variable.

        * pathsearch.c (path_search): Use !! for no-disk-search instead of
        %%, because now % is the comment char in cnf files.
        * kpathsea.texi: Document this. Also change all `Kpathsearch' to
        `kpathsea'.

Mon Jun 13 10:15:49 1994  Karl Berry  (karl@cs.umb.edu)

        * tex-make.h (kpse_set_maketex_mag): Remove.
        * tex-make.c (kpse_set_maketex_mag): Make static, remove kpse_
        prefix, and use KPATHSEA_DPI and MAKETEX_BASE_DPI instead of args.

Sun Jun 12 13:49:15 1994  Karl Berry  (karl@cs.umb.edu)

        * db.c (db_build): Put a header on the hash table.

        * tex-glyph.c (try_format): Set extension and path after
        kpse_init_format, natch.

Sat Jun 11 14:26:34 1994  Karl Berry  (karl@cs.umb.edu)

        * Makefile.in (objects): Add cnf.o.
        * variable.c (expand): Call kpse_cnf_get if no envvar value.

Fri Jun 10 11:20:23 1994  Karl Berry  (karl@cs.umb.edu)

        * tex-make.h: Remove spec type and variable.

Thu Jun  9 13:42:21 1994  Karl Berry  (karl@cs.umb.edu)

        * Makefile.in (objects): Remove init-path.o.
        * tex-file.c (kpse_find_file): Rewrite to initialize the paths
        only once, and keep all path info in a structure.
        * tex-file.h: Vastly simplify.
        * tex-glyph.h (kpse_font_file_type): Move here, since it's really
        only for glyphs.
        * tex-glyph.c: Corresponding changes.
        * debug.h (KPSE_DEBUG_PATHS): New debug bit.

        * default.h, str-list.h: Doc fix.

Tue May 31 10:06:51 1994  Karl Berry  (karl@cs.umb.edu)

        * debug.c: Doc fix.

Mon May 23 11:50:03 1994  Karl Berry  (karl@cs.umb.edu)

        * c-fopen.h (FOPEN_A_MODE): Define this.
        * tex-make.c (misstex, maketex): Split up kpse_make_tex into
        these, and create missfont.log if appropriate.

Sun May 22 17:39:52 1994  Karl Berry  (karl@cs.umb.edu)

        * tex-make.h: Doc fix.

Wed May 11 13:25:58 1994  Karl Berry  (karl@cs.umb.edu)

        * configure.in (AC_OUTPUT): Use just `Makefile' instead of
        `./Makefile', to avoid a bug in Autoconf (through 1.10).

Sun Apr 17 16:18:00 1994  Karl Berry  (karl@ra.cs.umb.edu)

        * debug.h: Prefix macros with KPSE_.
        * db.c, dir.c: Change calls.

        * common.ac: Remove :: VPATH stuff; that made it in to Autoconf 1.8.

        * Makefile.in (top_srcdir): Define this for configure to substitute.

Thu Apr  7 17:52:05 1994  Karl Berry  (karl@ra.cs.umb.edu)

        * debug.[ch]: Implement fopen/fclose tracing.

Thu Mar 31 07:25:49 1994  Karl Berry  (karl@cs.umb.edu)

        * Version 1.8.

Thu Mar 24 10:01:20 1994  Karl Berry  (karl@cs.umb.edu)

        * tex-glyph.c: Doc fix.

        * pathsearch.c (path_search): Don't search the disk if there is
        magic in the path spec.

        * db.c: Doc fix.

Wed Mar 16 13:50:17 1994  Karl Berry  (karl@cs.umb.edu)

        * readable.c (kpse_readable_file): Complain if errno == EPERM.

Sun Mar 13 11:14:19 1994  Karl Berry  (karl@cs.umb.edu)

        * pathsearch.h (kpse_path_search): Take an extra arg must_exist.
        * pathsearch.c (kpse_path_search, search, path_search): Likewise.
        * tex-file.c (kpse_find_file): Change call.
        * tex-file.h (kpse_find_*): Change these calls, too.

        * hash.c (hash_create): Don't use xcalloc to init pointers to null.

        * db.c (kpse_db_search): Don't free the pointer after incrementing it.
        From Frank Jensen.

Sat Mar 12 17:55:36 1994  Karl Berry  (karl@cs.umb.edu)

        * db.h (kpse_db_search): Returns a pointer.
        * db.c (kpse_db_search): If db can't be built, return NULL, else a
        pointer to the (possibly empty) list.
        (db_build): Return whether we found the file.
        * pathsearch.c (path_search): Change call.

Thu Mar 10 07:45:13 1994  Karl Berry  (karl@cs.umb.edu)

        * Makefile.in (install-info): New target.

Fri Mar  4 08:06:16 1994  Karl Berry  (karl@cs.umb.edu)

	* hash.c (hash): Change hash function to spread out the values a
	bit better.

	* debug.h (DEBUG_DB_BUILD): New debug bit.
	* db.c (db_build) [DEBUG]: If bit is set, print hash table.
	* hash.h (hash_print): Declare.

Thu Mar  3 08:52:01 1994  Karl Berry  (karl@cs.umb.edu)

        * Version 1.7.

Sun Feb 27 15:57:30 1994  Karl Berry  (karl@cs.umb.edu)

        * Makefile.in (objects): Add db.o, hash.o.
        * db.[ch]: New files.
        * hash.[ch]: Also new files.
        * pathsearch.c (path_search): Try db search.
        * tex-glyph.c, fontmap.c: Use general hash functions.

Sat Feb 26 13:15:53 1994  Karl Berry  (karl@cs.umb.edu)

        * fontmap.c: Doc fix.

        * pathsearch.c (INIT_ALLOC): Increase to 75, what the heck.

Fri Feb 25 08:30:50 1994  Karl Berry  (karl@cs.umb.edu)

        * tex-file.[ch]: Decare args const.

Thu Feb 24 07:55:43 1994  Karl Berry  (karl@cs.umb.edu)

        * tex-make.h: Include tex-file.h, not init-path.h.

        * init-path.h (KPSE_*_{ENVS,PATHS}, kpse_font_override_path): Move
        to tex-font.h.
        * tex-font.h (kpse_find_{file,tfm,vf}): Also declare these.
        * tex-font.c (kpse_find_file): Define these.
        (kpse_font_override_path): Move definition here.
        
        * tex-file.*: Rename from tex-font.*.
        * GNUmakefile: Corresponding changes.

        * elt-dirs.c (do_subdir): Only append the / once we know it's a
        directory.

Wed Feb 23 16:41:31 1994  Karl Berry  (karl@cs.umb.edu)

        * elt-dirs.c (do_subdir): Don't tack POST on if it is exactly the
        d_name, so we can find a/b with a path of a//b.

        * c-vararg.h (PVAR3[CH]): New defines.

        * init-path.h: Include KPSE_*_{ENVS,PATHS} here.
        (kpse_init_path): Take an additional arg font_p.
        * init-path.c (kpse_override_path): Rename kpse_font_override_path.
        (kpse_init_path): Only use kpse_font_override_font if font_p.

Mon Feb 21 15:38:53 1994  Karl Berry  (karl@cs.umb.edu)

        * common.ac (extrasub): Define to remove VPATH lines if srcdir = `.'.

Thu Feb  3 06:19:49 1994  Karl Berry  (karl@cs.umb.edu)

        * Version 1.6.

        * fn.c (fn_copy0): Remember to allocate space for the null.
        Thanks, simon.

Wed Feb  2 09:57:47 1994  Karl Berry  (karl@cs.umb.edu)

        * tex-make.h (KPSE_BITMAP_TOLERANCE): Move to here from tex-glyph.c
        (kpse_check_bitmap_tolerance): Declare.
        * tex-make.c (kpse_check_bitmap_tolerance): Define.

Tue Feb  1 10:42:03 1994  Karl Berry  (karl@cs.umb.edu)

	* c-std.h (*alloc) [! _MALLOC_INTERNAL]: Make decl conditional.

        * c-std.h [HAVE_STDLIB_H]: Change #if for including <stdlib.h> to this.
        * common.ac (AC_HAVE_HEADERS): Check for stdlib.h.

        * Makefile.in (paths.h): Do all substitutions globally.

        * absolute.c [DOS]: Include c-ctype.h.
        * tex-glyph.c (KPATHSEA_BITMAP_NAME) [DOS]: Double the backslash.
        * elt-dirs.c (do_subdir) [!UNIX_ST_LINK]: Avoid dangling else.
        From Wayne.

        * paths.h.in: Doc fix.

        * xputenv.c (xputenv): Check entire variable name for being saved,
        not just a prefix of it.

Mon Jan 31 12:05:30 1994  Karl Berry  (karl@cs.umb.edu)

        * fn.c (fn_copy0): Allocate LEN if that's bigger than CHUNK_SIZE.
        (CHUNK_SIZE): Increase to 75.

Sat Jan 22 15:36:08 1994  Karl Berry  (karl@cs.umb.edu)

        * Version 1.5.

        * common.ac (AC_HAVE_FUNCS): Check for memmove.

        * paths.h.in (DEFAULT_MF_PATH): Don't search just public/, cause
        we need ams/.

Mon Jan 17 15:09:36 1994  Karl Berry  (karl@cs.umb.edu)

        * paths.h.in (DEFAULT_{FMT,BASE}_PATH): Include `.'.

Sun Jan 16 14:50:02 1994  Karl Berry  (karl@cs.umb.edu)

        * paths.h.in (DEFAULT_PK_PATH): Search subdirs of pk.

Mon Jan 10 16:40:35 1994  Karl Berry  (karl@cs.umb.edu)

        * xputenv.c (xputenv): Don't try to be smart about saving/freeing
        stuff if SMART_PUTENV is defined.

        * c-std.h (assert) [!HAVE_ASSERT_H]: Define as nothing, to avoid
        undefined references to assert.

Tue Dec 21 16:28:13 1993  Karl Berry  (karl@cs.umb.edu)

        * c-std.h (SYSV) [STDC_HEADERS]: Define, to get around old X
        include files under hpux.

Sun Dec 19 13:06:15 1993  Karl Berry  (karl@cs.umb.edu)

        * Makefile.in (objects): Put tex-font.o first.

Sat Dec 18 15:03:57 1993  Karl Berry  (karl@cs.umb.edu)

        * config.h (GCC_WCHAR_T, _GCC_WCHAR_T): Remove these; I have
        another theory now for wchar_t, done in xdvi.h and x11.c.

Sat Dec 18 14:41:15 1993  Karl Berry  (karl@owl.hq.ileaf.com)

	* c-memstr.h ([r]index) [STDC_HEADERS]: Conditionalize #define.

Tue Dec 14 17:43:30 1993  Karl Berry  (karl@cs.umb.edu)

	* Makefile.in (paths.h): Change substitutions accordingly.
	* paths.h.in (DEFAULT_FMT_PATH): Variable is now fmtdir.
	(DEFAULT_{BIB,BST}_PATH): Variable is now texmf_prefix.

Sat Dec 11 13:21:43 1993  Karl Berry  (karl@cs.umb.edu)

	* tex-make.c (ABS): New macro.
	(kpse_set_maketex_mag): Use it, instead of fabs.

Fri Dec 10 15:31:16 1993  Karl Berry  (karl@cs.umb.edu)

	* xmalloc.c, xrealloc.c: Use exit instead of abort, remove abort
	decls, and reword error messages to be less cryptic. From
	john@minster.york.ac.uk.

	* dir.h: use `defined' instead of just `DIRENT || _POSIX_VERSION'.
	How annoying. From kretschm@aitxu3.ait.physik.uni-tuebingen.de.

	* xputenv.c (putenv): Remove declaration, as different systems do
	it differently. From kayvan@satyr.sylvan.com.

Thu Dec  9 09:12:33 1993  Karl Berry  (karl@cs.umb.edu)

	* tex-make.c (kpse_set_maketex_mag): Allow off-by-1 when deciding
	if a dpi is a magstep.

Tue Dec  7 11:03:51 1993  Karl Berry  (karl@cs.umb.edu)

	* tex-make.c (kpse_set_maketex_mag): New routine from dvips,
	called by dvipsk and xdvik to ensure consistency.
	(magstep): Subroutine of above, also from dvips.
	* tex-make.h: Declare it.

	* tex-doc.texi: Correct menu item (from maechler@stat.math.ethz.ch).

Fri Dec  3 12:53:38 1993  Karl Berry  (karl@cs.umb.edu)

	* c-pathmx.h: Doc fix.

Sat Nov 27 14:36:11 1993  Karl Berry  (karl@cs.umb.edu)

	* default.h: Doc fix.

	* paths.h.in (texfontdir): This has been renamed to fontdir.

Sun Nov 21 08:28:41 1993  Karl Berry  (karl@cs.umb.edu)

	* Makefile.in (distdir): Include HIER in the distribution, until
	we merge it into the manual.

Sun Nov  7 14:54:47 1993  Karl Berry  (karl@cs.umb.edu)

	* c-namemx.h (NAME_MAX): Avoid use of pathconf.
	* c-pathmx.h: Doc fix.

Thu Nov  4 14:50:45 1993  Karl Berry  (karl@cs.umb.edu)

	* config.h (_GCC_WCHAR_T) [!GCC_WCHAR]: Conditionalize.

	* c-std.h (EXIT_SUCCESS) [!EXIT_SUCCESS]: Move these defines
	outside of !STDC_HEADERS, for the sake of SunOS 4.1.1.  (From
	vonbrand@inf.utfsm.cl.)

Wed Nov  3 14:43:05 1993  Karl Berry  (karl@cs.umb.edu)

	* Version 1.4.

Wed Nov  3 07:05:48 1993  Karl Berry  (karl@cs.umb.edu)

	* paths.h.in (DEFAULT_{BASE,FMT}_PATH): Had these definitions reversed.

Fri Oct 29 19:27:36 1993  Karl Berry  (karl@cs.umb.edu)

	* tex-glyph.c (try_fallback_resolutions): Initialize ret in all cases.

Thu Oct 28 14:32:34 1993  Karl Berry  (karl@cs.umb.edu)

	* lib.h: Doc fix.

	* common.h (AC_UNISTD_H): Replace this with unistd.h in the list
	of HAVE_HEADERS.

Tue Oct 26 13:59:33 1993  Karl Berry  (karl@cs.umb.edu)

	* str-llist.[ch]: New files.
	* Makefile.in (objects): Add str_llist.o.
	* elt-dirs.[ch]: Use str_llist_type throughout.
	* pathsearch.c (dir_list_search): Take a str_llist_type, and float
	a successful dir towards the top.
	(path_search): Change call of kpse_element_dirs.

Sun Oct 24 19:41:49 1993  Karl Berry  (karl@cs.umb.edu)

	* elt-dirs.c (do_optional): Remove this stub.
	(expand_elt): Don't call it.

Fri Oct 22 14:46:44 1993  Karl Berry  (karl@cs.umb.edu)

	* xmalloc.c, xrealloc.c, line.c, pathsearch.c: Doc fix.

Tue Oct 19 12:11:32 1993  Karl Berry  (karl@cs.umb.edu)

	* tex-glyph.c (try_fallback_resolutions): New routine.
	(kpse_find_glyph_format): Call it, instead of repeating (the now
        pretty complicated) code.
	* tex-font.c (kpse_init_fallback_resolutions): Pass the value of
	any environment variable, not its name. From R.Kooijman@et.tudelft.nl.

	* c-memstr.h (str[r]chr) [!str[r]chr]: Conditionalize. From
	maarrrk@seidel.ece.ucsb.edu.

Tue Oct 12 16:26:48 1993  Karl Berry  (karl@cs.umb.edu)

	* tex-make.c: Doc fix.

Thu Oct  7 13:13:57 1993  Karl Berry  (karl@cs.umb.edu)

	* xmalloc.c: Rewrite to not require <config.h>.
	* xrealloc.c: Likewise.

	* make-suffix.c (make_suffix): Declare variables const.
	* remove-suffx.c (remove_suffix): Likewise.  Also rename to
	rm-suffix.c.
	* xputenv.c (putenv): Declare with correct prototype.
	* fontmap.c (internal routines): Likewise.
	* line.c (xmalloc, xrealloc): Declare as void *.
	(From john@minster.york.ac.uk.)

Wed Oct  6 06:49:53 1993  Karl Berry  (karl@cs.umb.edu)

	* Version 1.3.

	* tilde.c (kpse_tilde_expand): Always return a malloc-ed value.
	(From ken@cs.toronto.edu.)

Sun Oct  3 14:11:33 1993  Karl Berry  (karl@cs.umb.edu)

	* config.h (_GCC_WCHAR_T): Define.

Sat Oct  2 17:17:32 1993  Karl Berry  (karl@cs.umb.edu)

	* Makefile.in (install-*): Don't reassign PATH, just invoke
	mkdirchain explicitly.

	* tex-glyph.c (KPATHSEA_BITMAP_NAME) [DOS]: Define what I think
	will work for this ...

	* paths.h.in: Doc fix.

	* Makefile.in: Doc fix.

	* tex-glyph.c (kpse_find_glyph_format): Unconditionally initialize
	glyph_paths[*], since we might use them both in try_size.  From
	worsch@ira.uka.de.

Fri Oct  1 12:02:11 1993  Karl Berry  (karl@cs.umb.edu)

	* expand.c: Doc fix.

Wed Sep 29 15:21:49 1993    (karl@terminus.cs.umb.edu)

	* Version 1.2.

Sat Sep 25 14:12:00 1993  Karl Berry  (karl@cs.umb.edu)

	* pathsearch.c (path_search, absolute_search): Don't initialize
	structs.

Fri Sep 24 12:50:00 1993  Karl Berry  (karl@cs.umb.edu)

	* tex-glyph.c (try_size): Skip the simultaneous stuff.
	(try_format): Set the envvar here.
	(bitmap_name): Not here.
	* pathsearch.c (kpse_*_multi_search): Delete.
	Change most other routines to take only a single name again,
	instead of a name list.
	* pathsearch.h: Delete decls.

	* tex-glyph.c (init-path.h): Don't need to include this.

	* tex-glyph.c (kpse_find_glyph_format): Try the fallback
	resolutions for the fallback font.

	* Makefile.in (warn_more, MAKEINFO_FLAGS) [hayley]: Define these
	for development and distribution.

	* Makefile.in (dvi): Make analogous to info (including use of new
	suffix rule).

	* tex-glyph.c (kpse_find_glyph_format): Set KPATHSEA_NAME to the
	fallback font if we get that far.

Wed Sep 15 19:29:56 1993  Karl Berry  (karl@cs.umb.edu)

	* filefmt.h (KPSE_*_PATH): Pass NULL as first arg.

	* xputenv.c (xputenv): Rewrite again to save the variable names,
	not the old items.

Mon Sep 13 06:55:29 1993  Karl Berry  (karl@cs.umb.edu)

	* concatn.h: Doc fix.

Sun Sep 12 15:54:55 1993  Karl Berry  (karl@cs.umb.edu)

	* lib.h (XTALLOC): Parenthesize the cast.

	* xputenv.c (xputenv): Rewrite to collect some of the garbage.

Fri Sep 10 14:00:35 1993  Karl Berry  (karl@cs.umb.edu)

	* lib.h (ENVVAR_SET_DEFAULT): No longer needed.

	* xputenv.c (xputenv_int): New routine.

Thu Sep  9 14:58:00 1993  Karl Berry  (karl@cs.umb.edu)

	* tex-make.c (MAKE_TEX_PK_SPEC): Change MAKETEX_DPI to
	KPATHSEA_DPI.

	* tex-glyph.c (try_fontmap): Use KPSE_GLYPH_PATH.
	* filefmt.c (KPSE_GLYPH_{PATH,ENVS}): New macros.
	(KPSE_{GF,PK}_ENVS): Use GLYPH_ENVS.

	* tex-glyph.c (bitmap_name): Rewrite to use a variable spec,
	introducing KPATHSEA_{BITMAP_NAME,FORMAT,DPI,NAME}.
	(kpse_find_glyph_format): Set KPATHSEA_DPI instead of MAKETEX_DPI;
	also set KPATHSEA_NAME.
	(try_fontmap): Also set KPATHSEA_NAME here.
	(try_size): Set KPATHSEA_DPI here.

	* tex-glyph.c (try_name): Delete this routine.
	(kpse_find_glyph_format): Try fallback resolutions here, call
	try_resolution directly.
	(try_fontmap): Call try_resolution directly.

	* init-path.h: Need not include c-proto.h.

Sun Aug 29 13:34:25 1993  Karl Berry  (karl@cs.umb.edu)

	* tex-make.c: Doc fix.

	* filefmt.h: Don't need c-proto.h or types.h.

Fri Aug 27 10:36:46 1993  Karl Berry  (karl@cs.umb.edu)

	* c-vararg.h (PVAR2C): Take AP as an arg.

	* init-path.[ch] (kpse_init_path): Take the current value as an
	additional argument, separate from the default path, and always
	expand_default.

	* uppercasify.c (uppercasify): Don't discard upcased result!

Thu Aug 26 10:36:28 1993  Karl Berry  (karl@cs.umb.edu)

	* Version 1.1.

Sun Aug 22 19:18:35 1993  Karl Berry  (karl@cs.umb.edu)

	* install-data (install-data): Replace nonexistent
	$(kpath_includedir) with $(includedir), and define it.  Also
	remove c-auto.h.

Thu Aug  5 09:03:22 1993  Karl Berry  (karl@cs.umb.edu)

	* Version 1.0.

Wed Aug  4 13:51:24 1993  Karl Berry  (karl@cs.umb.edu)

	* tex-glyph.c (kpse_find_glyph_format): Fill in the font_file
	struct in the maketex case.

	* Makefile.in (info): Just depend on kpathsea.info, and rely on
	new suffix rule to do the work.

Tue Aug  3 17:50:40 1993  Karl Berry  (karl@fishbowl.hq.ileaf.com)

	* tex-glyph.c (try_name): Don't free expanded_name if we're
	returning it.

Tue Aug  3 10:13:43 1993  Karl Berry  (karl@owl.hq.ileaf.com)

	* version.c (kpathsea_version_string): Do not declare const.

	* line.h (read_line): Protoize decl.

Tue Aug  3 09:10:07 1993  Karl Berry  (karl@blood.hq.ileaf.com)

	* c-memstr.h (bcmp, bcopy, bzero) [!HAVE_BCOPY]: Conditionalize.

	* putenv.c: Include <kpathsea/c-auto.h>, and use const when
	calling memcpy.

Sun Aug  1 08:48:49 1993  Karl Berry  (karl@cs.umb.edu)

	* Add new features to manual.

	* Makefile.in (objects): Include putenv.o.
	* putenv.c: New file from gdb.
	* common.ac: Test for putenv.

Sat Jul 31 11:54:31 1993  Karl Berry  (karl@cs.umb.edu)

	* Makefile.in (distclean): Remove paths.h.

	* Most files: changes for traditional C compatibility.

	* filefmt.h: Add new KPSE_..._PATH's for the other formats.
	* paths.h.in: Add defaults.
	* Makefile.in (paths.h): sed the values in.

Fri Jul 30 17:23:10 1993  Karl Berry  (karl@cs.umb.edu)

	* filefmt.h (KPSE_VF_PATH): Add empty parens.

	* tex-paths.h*: Rename to just paths.h*.

Tue Jul 27 09:00:58 1993  Karl Berry  (karl@cs.umb.edu)

	* filefmt.h: Include tex-paths.h, and use default paths in
	KPSE_..._PATH macros.

	* find-suffix.c: Correct logic.

	* filefmt.h: Include init-path.h.

Sat Jul 24 10:44:21 1993  Karl Berry  (karl@cs.umb.edu)

	* tex-glyph.c (kpse_find_glyph_format): Assign to it.
	* tex-font.h (kpse_font_file_type): New member `source'.
	(KPSE_FONT_FILE_SOURCE): Accessor macro.
	(kpse_source_type): New type.

Wed Jul 21 19:45:45 1993  Karl Berry  (karl@cs.umb.edu)

	* Makefile.in (configclean): New target.

Sun Jul 18 13:53:38 1993  Karl Berry  (karl@cs.umb.edu)

	* tilde.[ch] (kpse_expand_tilde): Rename to kpse_tilde_expand.

	* elt-dirs.c, pathsearch.c, tex-glyph.c: Replace calls to
	kpse_expand_tilde with kpse_expand.
	* expand.[ch]: New files.
	* Makefile.in (objects): Add it.

	* fn.[ch]: New files.
	* elt-dirs.c (fn*): Moved to fn.c.
	* tex-make.c, variable.c: Use the new routines.
	* *obstack*: No longer needed.
	* Makefile.in (objects): Appropriate changes.

Sat Jul 17 13:25:25 1993  Karl Berry  (karl@cs.umb.edu)

	* concat.c: Doc fix.

	* pathsearch.c (search, path_search): Expand variable references.

	* itoa.c: New file.
	* lib.h (itoa): Declare it.
	* Makefile.in (objects): Add it.

	* lib.h (ENVVAR_SET_DEFAULT): New macro.
	* tex-glyph.c (kpse_find_glyph_format): Call it to set the dpi.

Fri Jul 16 09:10:52 1993  Karl Berry  (karl@cs.umb.edu)

	* xputenv.c: New file.
	* Makefile.in (objects): Add it.
	* lib.h (xputenv): Declare it.	

	* c-obstack.h: New file.
	* variable.[ch]: New files.
	* Makefile.in (objects): Add it.

	* uppercasify.c: New file.
	* Makefile.in (objects): add it.
	* lib.h (uppercasify): Declare it.

Tue Jul 13 13:47:54 1993  Karl Berry  (karl@cs.umb.edu)

	* tex-glyph.c (kpse_find_glyph_format): Simplify path initialization.
	* filefmt.h: New file; add abbrevs for GF and PK inits.

	* Makefile.in (objects): Add obstack.o and tex-make.o.
	* obstack.[ch]: New files from GNU.
	* concatn.[ch], tex-make.[ch]: New files.
	* init-path.c: Doc fix.

	* elt-dirs.c: Doc fix.
	* readable.[ch]: Doc fixes.

Sun Jul 11 13:37:02 1993  Karl Berry  (karl@cs.umb.edu)

	* tex-font.h (kpse_font_format_type): Rename to kpse_file_format_type,
	and include the other file formats.
	* tex-glyph.c: Change uses.

Tue Jul  6 08:09:10 1993  Karl Berry  (karl@cs.umb.edu)

	* tex-font.c (kpse_fallback_font): Initialize to NULL.

Mon Jul  5 08:23:09 1993  Karl Berry  (karl@cs.umb.edu)

	* tex-glyph.c (try_size): Don't fill in FONT_FILE if it's null.

	* tex-font.c (kpse_init_fallback_resolutions): Look for TEXSIZES
	after the program-specific *SIZES var.

	* tex-glyph.c (kpse_find_glyph_format): Use kpse_init_path.
	* Makefile.in (objects): Add init_path.o.
	* tex-font.[ch] (kpse_override_path): Move to init-path.[ch].
	* init-path.[ch]: New files.
	* c-vararg.h: New file.

Sun Jul  4 11:26:17 1993  Karl Berry  (karl@cs.umb.edu)

	* tex-font.c (kpse_init_fallback_resolutions): New routine.
	* tex-font.h: Declare it, and companion return type.

Fri Jul  2 10:43:11 1993  Karl Berry  (karl@cs.umb.edu)

	* tex-glyph.c (kpse_find_glyph_format): Take first successful
	fontmap entry.

	* fontmap.c (map_file_parse): Take first % on line as starting the
	comment, not the last.

	* fontmap.c (map_insert): Always insert the new element.

Thu Jul  1 19:21:35 1993  Karl Berry  (karl@cs.umb.edu)

	* fontmap.c (map_lookup): Return a list, not a single string.
	(map_lookup_str): Likewise.
	* fontmap.h (map_lookup): Change decl.
	* tex-glyph.c (kpse_find_glyph_format): Change caller.

Sat Jun 26 11:48:36 1993  Karl Berry  (karl@cs.umb.edu)

	* tex-font.h: Doc fix.

Thu Jun 24 11:16:41 1993  Karl Berry  (karl@cs.umb.edu)

	* configure.in (MISSING_HEADERS): Toss in favor of HAVE_HEADERS.  Sigh.
	Also, move all this to an include file.
	Change uses in several files.

	* stat.h: Rename to c-stat.h, and change includers.

	* Makefile.in (objects): Add tex-glyph.o.
	* pathsearch.[ch] (kpse_*_multi_search): New routines.

Sat Jun 19 11:37:18 1993  Karl Berry  (karl@cs.umb.edu)

	* str-list.c (str_list_free): New routine.

Fri Jun 18 13:54:08 1993  Karl Berry  (karl@cs.umb.edu)

	* fontmap.c (map_create): Rewrite to use kpse_all_path_search.
	Include const in various subroutines.

Tue Jun 15 15:58:18 1993  Karl Berry  (karl@cs.umb.edu)

	* Change <kpathsea/pathsrch.h> to pathsearch.  Rename the files
	themselves.

	* elt-dirs.c (cache): Copy the key into our own storage, since it
	comes from kpse_path_element and might get overwritten.  Should we
	copy all the values, too?

Sun Jun 13 16:49:09 1993  Karl Berry  (karl@cs.umb.edu)

	* pathsearch.c (dir_list_search): Don't need to append the null
	here; in fact, it's wrong, since then the final list might have
	nulls in the middle.

	* elt-dirs.c (dir_list_add): Correct check for new directory
	already ending in /.

Fri Jun 11 10:45:33 1993  Karl Berry  (karl@cs.umb.edu)

	* str-list.[ch]: New files.
	* pathsrch.c: Use it for the dir_list routines.
	* Many changes and new files throughout for new implementation
	including TeX-font-lookup routines.

Tue Jun  8 14:00:54 1993  Karl Berry  (karl@cs.umb.edu)

	* Most files: Change `const string' (constant pointer) to `const
	char *' (pointer to constant data).  What a crock.

Mon Jun  7 09:43:21 1993  Karl Berry  (karl@cs.umb.edu)

	* debug.[ch]: New files.
	* config.h: Include debug.h.

	* dir-p.c: Rename to dir.c.
	(dir_links): New routine.

	* c-std.h (assert.h) [!ASSERT_H_MISSING]: Include this.
	* configure.in: Check for it with new macro AC_MISSING_HEADERS.

Thu Jun  3 10:12:12 1993  Karl Berry  (karl@cs.umb.edu)

	* dirio.h (leaf_dir_p): No longer defined; rename to dir.h.
	* xopendir.c, dir-p.c, pathsrch.c: Change include.

Mon May 31 07:49:16 1993  Karl Berry  (karl@cs.umb.edu)

	* c-std.h (EXIT_{SUCCESS,FAILURE}): Define these if they're undefined.

	* config.h: Use <kpathsea/...> instead "...".

	* kpathlib.h: Had #ifndef protection messed up.  Rename to lib.h.

	* c-memstr.h (index, rindex) [!index, !rindex]: Make definitions
	conditional.

Tue May 25 10:07:00 1993  Karl Berry  (karl@cs.umb.edu)

	* c-{namemx,pathmx,pathch,...}.h: Doc fixes.

	* c-systypes.h: New file.
	* c-std.h: Include it.

	* stat.h: New file.
	* xstat.h: Include it.

	* configure.in (AC_HAVE_HEADERS): Test for `pwd.h'.

Sun May 23 19:06:22 1993  Karl Berry  (karl@cs.umb.edu)

	* pathsrch.[ch]: Doc fixes.

Fri May 21 11:27:54 1993  Karl Berry  (karl@cs.umb.edu)

	* line.c (free): Declare.

	* pathsrch.c, find-suffix.c: Change caller.
	* c-pathch.h ({IS_,}{DIR,ENV}_SEP): Rename existing confusing
	definitions to these.  Suggested by rocky.

Mon May 17 08:18:18 1993  Karl Berry  (karl@cs.umb.edu)

	* Version 0.3.

	* pathsrch.c (expand_default): Handle doubled colon and
	nothing-but-colon cases.

	* Write documentation, change Makefile accordingly.

Thu May 13 16:32:34 1993  Karl Berry  (karl@cs.umb.edu)

	* c-std.h (popen) [VMS]: Make decl conditional, and include
	<unixlib.h> and <unixio.h>.

Mon May 10 07:12:50 1993  Karl Berry  (karl@cs.umb.edu)

	* Version 0.2.

	* version.c: Put in placeholder.

Sun May  9 10:42:34 1993  Karl Berry  (karl@cs.umb.edu)

	* config.h (c-auto.h): Use <...> instead of "...".

Tue May  4 14:54:41 1993  Karl Berry  (karl@cs.umb.edu)

	* Makefile.in (info check dvi): New targets (that do nothing).

Mon May  3 13:46:17 1993  Karl Berry  (karl@claude.cs.umb.edu)

	* Version 0.1.

	* Use KPATHSEARCH_ prefix for various headers' cpp protections.

Sun May  2 10:28:25 1993  Karl Berry  (karl@cs.umb.edu)

	* Makefile.in (dist): Depend on TAGS, and put it in the dist.

	* Makefile.in (c-auto.h.in): Remove extra $(srcdir).

Sun Apr 25 11:22:12 1993  Karl Berry  (karl@cs.umb.edu)

	* pathsrch.h: Include c-proto.h.

	* make-suffix.c: New file.
	* Makefile.in (objects): Add the .o.

	* file-p.c: Use the SAME_FILE_P macro.

	* fontmap.h: Include c-proto.h and types.h.

	* lib.h: Rename to kpathlib.h.
	* config.h: Include changed.

	* c-proto.h, c-std.h: Doc fix.

	* c-limits.h [LIMITS_H_MISSING]: Conditionalize include of c-std.h.

	* xstat.h: Include c-std.h.

	* Makefile.in (c-auto.h.in): Add unused warning to top.

	* dirio.h: Include c-proto.h and types.h.

Fri Apr 23 16:11:13 1993  Karl Berry  (karl@cs.umb.edu)

	* line.c: Don't include config.h, just declare xmalloc and
	xrealloc explicitly.

	* pathsrch.c: paths.h need not be included.

	* Created.
